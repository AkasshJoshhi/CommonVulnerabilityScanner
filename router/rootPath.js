// console.log('[+] A user connected');
// socket.emit('log_message','Log monitor process running!');
// console.log("[+] Log monitor process running!\n\n");

// socket.on('disconnect', function(){
//   console.log('[-] A user disconnected');
// });

var express = require('express');
var Router = express.Router();
var {exec} = require('child_process');
var clearDB = require('../config/config').execPaths.clearDB;

Router.route('/')
.get((req,res)=>{
res.redirect('/recon_tab');
});

Router.route('/recon_tab')
.get((req,res)=>{
    res.render("recon_tab",{"out":"","info":""});

})
Router.route('/clearFilesAndDB')
.get((req,res)=>{
    
    exec(`${clearDB}`,(error, stdout, stderr) => {
        if (error) {
            console.log(`error: ${error.message}`);
            return 0;
        }
        if (stderr) {
            console.log(`stderr: ${stderr}`);
            return 0;
        }
    });
    res.redirect('/recon_tab');
  });
module.exports = Router;