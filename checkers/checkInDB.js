var fs = require('fs');

var config = require('../config/config.js'); 
var jsonDbFilePath = config["database"].dbFilePath;


var checkerFunc = async (domainName)=>{
    console.log(`\n\n[+] Checking ...`)
    try{
        var dbData = JSON.parse(fs.readFileSync(jsonDbFilePath,'utf-8'));

        for (var i = 0, len = dbData.domainArray.length; i < len; i++) {
            var element = dbData.domainArray[i]
            if(element == domainName){
                console.log(`[+]Aborting Checking...`);
                return true;
            }
        }
        
        
    }
    catch(e){
        console.log(e.message)
        console.log("checkInDB.js error")
    }

}

module.exports = checkerFunc;